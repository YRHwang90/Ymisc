set.seed(2023)
lh_Thalamus <-rnorm(100,8475,650)
lh_Caudate <- rnorm(100,4000,370)
lh_Putamen <- rnorm(100,5480,550)
lh_Pallidum <- rnorm(100,2230,230)
lh_Hippocampus <- rnorm(100,4150,300)
lh_Amygdala  <- rnorm(100,1560,170)
lh_Accumbens_area <- rnorm(100,475,65)
rh_Thalamus <-rnorm(100,8475,650)
rh_Caudate <- rnorm(100,4000,370)
rh_Putamen <- rnorm(100,5480,550)
rh_Pallidum <- rnorm(100,2230,230)
rh_Hippocampus <- rnorm(100,4150,300)
rh_Amygdala  <- rnorm(100,1560,170)
rh_Accumbens_area <- rnorm(100,475,65)
sample_data <- data.frame(
lh_Thalamus,
lh_Caudate,
lh_Putamen,
lh_Pallidum,
lh_Hippocampus,
lh_Amygdala,
lh_Accumbens_area,
rh_Thalamus,
rh_Caudate,
rh_Putamen,
rh_Pallidum,
rh_Hippocampus,
rh_Amygdala,
rh_Accumbens_area
)
usethis:: use_data(sample_data, compress="xz")
View(sample_data)
View(sample_data)
View(sample_data)
set.seed(2023)
ID <- 1:100
lh_Thalamus <-rnorm(100,8475,650)
lh_Caudate <- rnorm(100,4000,370)
lh_Putamen <- rnorm(100,5480,550)
lh_Pallidum <- rnorm(100,2230,230)
lh_Hippocampus <- rnorm(100,4150,300)
lh_Amygdala  <- rnorm(100,1560,170)
lh_Accumbens_area <- rnorm(100,475,65)
rh_Thalamus <-rnorm(100,8475,650)
rh_Caudate <- rnorm(100,4000,370)
rh_Putamen <- rnorm(100,5480,550)
rh_Pallidum <- rnorm(100,2230,230)
rh_Hippocampus <- rnorm(100,4150,300)
rh_Amygdala  <- rnorm(100,1560,170)
rh_Accumbens_area <- rnorm(100,475,65)
sample_data <- data.frame(
ID,
lh_Thalamus,
lh_Caudate,
lh_Putamen,
lh_Pallidum,
lh_Hippocampus,
lh_Amygdala,
lh_Accumbens_area,
rh_Thalamus,
rh_Caudate,
rh_Putamen,
rh_Pallidum,
rh_Hippocampus,
rh_Amygdala,
rh_Accumbens_area
)
usethis:: use_data(sample_data, compress="xz")
data = sample_data
left_hemisphere = "lh"
right_hemisphere = "rh"
start = 2
end = 15
lh_col <- colnames(data)[start + 1]
rh_col <- colnames(data)[start + 2]
# Pivot the data from wide to long format
data_long <- reshape(
data,
varying = list(c(lh_col, rh_col)),
v.names = c("AI"),
times = c("lh", "rh"),
timevar = "region",
direction = "long"
)
# Calculate AI
data_long$AI <- 100 * (data_long$lh - data_long$rh) / (data_long$lh + data_long$rh)
lh_col <- colnames(data)[start + 1]
rh_col <- colnames(data)[start + 2]
data_long <- reshape(
data,
varying = list(c(lh_col, rh_col)),
v.names = c("AI"),
times = c("lh", "rh"),
timevar = "region",
direction = "long"
)
View(data_long)
data_mat <- as.matrix(data)
lh_cols <- names(data)[(start + 1):ncol(data)]
rh_cols <- names(data)[(start + 1):ncol(data)]
View(data_mat)
View(data_mat)
lh_col
lh_cols
data = sample_data
data_long <- reshape(
data,
varying = list(c(lh_col, rh_col)),
v.names = c("AI"),
times = c("lh", "rh"),
timevar = "region",
direction = "long"
)
data_long2 <- reshape(
data,
varying = list(c(lh_col, rh_col)),
v.names = c("AI"),
times = c(left_hemisphere, right_hemisphere),
timevar = "region",
direction = "long"
)
View(data_long2)
?reshape()
data_long2 <- reshape(
data,
varying = data[start:end,],
v.names = c("AI"),
times = c(left_hemisphere, right_hemisphere),
timevar = "region",
direction = "long"
)
data_long2 <- reshape(
data,
varying = data[,start:end],
v.names = c("AI"),
times = c(left_hemisphere, right_hemisphere),
timevar = "region",
direction = "long"
)
data2 <- melt(data, id.vars = c("ID"))
?melt
data2 <- melt(data, id.vars = c("ID"))
colnames(data)
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
v.names = "AI",
timevar = "region",
times = substring(names(data)[-1], 4),
direction = "long")
View(data2)
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
timevar="hemisphere",
direction="long")
data2<-data %>%
pivot_longer(-(1:start),  names_to = c(".value", "region"), names_pattern = "(.*)_(.*)") %>%
mutate(AI = 100*(lh-rh)/(lh+rh)) %>%
dplyr::select(-lh, -rh) %>%
pivot_wider(names_from = region, names_prefix = "AI_", values_from = AI)
library(tidyverse)
data2<-data %>%
pivot_longer(-(1:start),  names_to = c(".value", "region"), names_pattern = "(.*)_(.*)") %>%
mutate(AI = 100*(lh-rh)/(lh+rh)) %>%
dplyr::select(-lh, -rh) %>%
pivot_wider(names_from = region, names_prefix = "AI_", values_from = AI)
View(data2)
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
direction=long)
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
direction="long")
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
times=c(left_himesphere,right_hemisphere)
direction="long")
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
sep="_",
times=c(left_himesphere,right_hemisphere),
direction="long")
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
V.names="Value",
sep="_",
timevar="AI"
times=c(left_himesphere,right_hemisphere),
data2 <- reshape(data,
idvar = "ID",
varying = start:end,
direction="long")
data2 <- reshape(data,
idvar = "ID",
varying = 2:15,
direction="long")
data<-data.frame(ID,weight_hus,weight_wife,height_hus,height_wife)
ID<-1:10
weight_hus<-rnorm(10,0,1)
weight_wife<-rnorm(10,0,1)
height_hus<-rnorm(10,0,1)
height_wife<-rnorm(10,0,1)
data<-data.frame(ID,weight_hus,weight_wife,height_hus,height_wife)
data2<-reshape(data=data,
idvar = "ID",
seperator="_",
direction="long"
)
ID<-1:10
weight_hus<-rnorm(10,0,1)
weight_wife<-rnorm(10,0,1)
height_hus<-rnorm(10,0,1)
height_wife<-rnorm(10,0,1)
data<-data.frame(ID,weight_hus,weight_wife,height_hus,height_wife)
data2<-reshape(data=data,
idvar = "ID",
seperator="_",
direction="long",
v.name=C("body"),
timevar=c("hus",wife)
)
